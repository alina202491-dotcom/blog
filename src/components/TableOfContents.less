/* src/components/TableOfContents.less */

/* 建议在您的全局样式中定义这些CSS变量
  :root {
    --vh-main-color: #0ea5e9; // 主题色 (示例: sky-500)
    --vh-main-color-16: rgba(14, 165, 233, 0.16); // 主题色 16% 透明度
    --vh-text-color-1: #111827; // 主要文字颜色 (示例: gray-900)
    --vh-text-color-2: #6b7280; // 次要文字颜色 (示例: gray-500)
    --vh-text-color-3: #9ca3af; // 辅助文字颜色 (示例: gray-400)
    --vh-hover-bg: #f3f4f6; // 悬浮背景色 (示例: gray-100)
    --vh-border-color: #e5e7eb; // 边框颜色 (示例: gray-200)
  }
*/

.toc-wrapper {
  position: sticky;
  top: 80px;
  padding-left: 12px;
  position: relative;

  &::before {
    content: '';
    position: absolute;
    left: 0;
    top: 8px;
    bottom: 8px;
    width: 2px;
    background-color: var(--vh-border-color, #e5e7eb);
    border-radius: 1px;
  }
}

.toc-title {
  font-size: 0.9rem;
  font-weight: 700;
  margin: 0 0 1rem 0.75rem;
  color: var(--vh-text-color-1, #111827);
  position: relative;
  display: inline-block;

  &::before {
    content: '';
    position: absolute;
    left: -19px;
    top: 50%;
    transform: translateY(-50%);
    width: 4px;
    height: 100%;
    background-color: var(--vh-main-color, #0ea5e9);
    border-radius: 2px;
  }
}

.toc-list {
  list-style: none;
  padding-left: 0;
  margin: 0;
  max-height: calc(100vh - 220px);
  overflow-y: auto;
  padding-right: 8px;

  &::-webkit-scrollbar { width: 4px; }
  &::-webkit-scrollbar-track { background: transparent; }
  &::-webkit-scrollbar-thumb { background: var(--vh-border-color, #e5e7eb); border-radius: 2px; }
}

.toc-item a {
  display: block;
  padding: 6px 12px;
  margin-left: -12px;
  border-radius: 6px;
  transition: all 0.2s ease-in-out;
  color: var(--vh-text-color-2, #6b7280);
  text-decoration: none;
  position: relative;
}

.toc-text {
  display: block;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  transition: color 0.2s ease-in-out;
}

/* --- 关键修改：层级缩进和字体样式区分 --- */
/* 默认（h3及以下） */
.toc-item a {
    font-size: 14px;
    font-weight: 400;
}

/* h1 标题 */
.toc-item.depth-1 a { 
    padding-left: 12px; 
    font-size: 15px;
    font-weight: 600; /* 更粗 */
    color: var(--vh-text-color-1, #111827); /* 更深 */
}

/* h2 标题 */
.toc-item.depth-2 a { 
    padding-left: 24px; 
    font-size: 14px;
    font-weight: 500; /* 中等粗细 */
}

/* h3 标题 */
.toc-item.depth-3 a { 
    padding-left: 36px; 
}

/* h4 及以下标题 */
.toc-item.depth-4 a,
.toc-item.depth-5 a {
    padding-left: 48px;
    font-size: 13px; /* 略小 */
    color: var(--vh-text-color-3, #9ca3af); /* 略浅 */
}
.toc-item.depth-5 a {
    padding-left: 60px;
}


/* --- 悬浮效果 --- */
.toc-item a:hover {
  background-color: var(--vh-hover-bg, #f3f4f6);
  color: var(--vh-text-color-1, #111827); /* 悬浮时统一加深颜色 */
}

/* --- 当前激活项的加强效果 --- */
.toc-item a.active {
  background-color: var(--vh-main-color-16, rgba(14, 165, 233, 0.16));
  color: var(--vh-main-color, #0ea5e9);
  font-weight: 700; /* 激活时统一使用最粗的字重，以示强调 */

  &::before {
    content: '';
    position: absolute;
    left: -12px;
    top: 50%;
    transform: translateY(-50%);
    width: 4px;
    height: 60%;
    background-color: var(--vh-main-color, #0ea5e9);
    border-radius: 2px;
    transition: all 0.2s ease-in-out;
  }
}
