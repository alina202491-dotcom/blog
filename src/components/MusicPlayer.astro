---
// src/components/MusicPlayer.astro
// 【最终方案】
// 我们现在直接从你网站的 public 目录加载本地音乐文件。
// 这是最稳定、最可靠的方法，不会有任何网络或权限问题。
---

<!-- 1. 引入 APlayer 的 CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css">

<!-- 2. APlayer 播放器的挂载点 -->
<div id="aplayer"></div>

<!-- 3. 引入 APlayer 的 JS -->
<script is:inline src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script>

<!-- 4. 初始化 APlayer -->
<script is:inline>
  document.addEventListener('DOMContentLoaded', function () {
    const ap = new APlayer({
      container: document.getElementById('aplayer'),
      fixed: true,
      mini: true,
      theme: '#2980b9',
      audio: [
        {
          name: '爱在西元前', // 改成你的歌曲名
          artist: '周杰伦', // 改成歌手名
          url: '/music/爱在西元前 - 周杰伦.mp3', // 【重要】对应 public/music/song1.mp3
          cover: 'https://iili.io/F4lPWkG.jpg', // 【重要】对应 public/music/cover1.jpg
        },
        {
          name: '曹操',
          artist: '林俊杰',
          url: '/music/曹操 - 林俊杰.mp3', // 【重要】对应 public/music/song2.mp3
          cover: 'https://iili.io/F4Vqd57.jpg', // 【重要】对应 public/music/cover2.png
        },
        {
          name: '卜卦(pay姐版1.1x)',
          artist: 'pay姐（黏苞米糊糊）',
          url: '/music/卜卦(pay姐版1.1x) - pay姐（黏苞米糊糊）.mp3', // 【重要】对应 public/music/song2.mp3
          cover: 'https://iili.io/F4VuGkv.webp', // 【重要】对应 public/music/cover2.png
        },
        {
          name: '东风破',
          artist: '周杰伦',
          url: '/music/东风破 - 周杰伦.mp3', // 【重要】对应 public/music/song2.mp3
          cover: 'https://iili.io/F4sDn2I.jpg', // 【重要】对应 public/music/cover2.png
        },
        {
          name: '句号',
          artist: 'G.E.M.邓紫棋',
          url: '/music/句号 - G.E.M.邓紫棋.mp3', // 【重要】对应 public/music/song2.mp3
          cover: 'https://iili.io/F4L2N3b.jpg', // 【重要】对应 public/music/cover2.png
        },
        {
          name: '搁浅',
          artist: '周杰伦',
          url: '/music/搁浅 - 周杰伦.mp3', // 【重要】对应 public/music/song2.mp3
          cover: 'https://iili.io/F4sDQyX.jpg', // 【重要】对应 public/music/cover2.png
        },
        {
          name: '红尘客栈',
          artist: '周杰伦',
          url: '/music/红尘客栈 - 周杰伦.mp3', // 【重要】对应 public/music/song2.mp3
          cover: 'https://iili.io/F4L9Isa.jpg', // 【重要】对应 public/music/cover2.png
        },
        {
          name: '美人鱼',
          artist: '周杰伦',
          url: '/music/美人鱼 - 周杰伦.mp3', // 【重要】对应 public/music/song2.mp3
          cover: 'https://iili.io/F4sp5CJ.jpg', // 【重要】对应 public/music/cover2.png
        },
        {
          name: '花海',
          artist: '周杰伦',
          url: '/music/花海 - 周杰伦.mp3', // 【重要】对应 public/music/song2.mp3
          cover: 'https://iili.io/F4L29Yx.jpg', // 【重要】对应 public/music/cover2.png
        },
        {
          name: '稻香',
          artist: '周杰伦',
          url: '/music/稻香 - 周杰伦.mp3', // 【重要】对应 public/music/song2.mp3
          cover: 'https://iili.io/F4Ld0zP.jpg', // 【重要】对应 public/music/cover2.png
        },
        {
          name: '最佳损友',
          artist: '陈奕迅',
          url: '/music/最佳损友 - 陈奕迅.mp3', // 【重要】对应 public/music/song2.mp3
          cover: 'https://iili.io/F4LBbt4.jpg', // 【重要】对应 public/music/cover2.png
        },
        {
          name: '真的爱你',
          artist: 'Beyond',
          url: '/music/真的爱你 - Beyond.mp3', // 【重要】对应 public/music/song2.mp3
          cover: 'https://iili.io/F4Lqcmv.jpg', // 【重要】对应 public/music/cover2.png
        },
        {
          name: '弱水三千 (0.8x DJ苏熠鸣)',
          artist: '苏熠鸣',
          url: '/music/弱水三千 (0.8x DJ苏熠鸣) - 苏熠鸣.mp3', // 【重要】对应 public/music/song2.mp3
          cover: 'https://iili.io/F62l9oP.jpg', // 【重要】对应 public/music/cover2.png
        },
        {
          name: '如愿',
          artist: '王菲',
          url: '/music/如愿 - 王菲.mp3', // 【重要】对应 public/music/song2.mp3
          cover: 'https://iili.io/F62YCD7.jpg', // 【重要】对应 public/music/cover2.png
        },
        {
          name: '身骑白马',
          artist: '徐佳莹',
          url: '/music/身骑白马 - 徐佳莹.mp3', // 【重要】对应 public/music/song2.mp3
          cover: 'https://iili.io/F62AUut.jpg', // 【重要】对应 public/music/cover2.png
        },
        {
          name: '青花',
          artist: '周传雄',
          url: '/music/青花 - 周传雄.mp3', // 【重要】对应 public/music/song2.mp3
          cover: 'https://iili.io/F62I03N.jpg', // 【重要】对应 public/music/cover2.png
        }
        // 你可以按这个格式添加更多歌曲
      ]
    });
  });
</script>

<style is:global>
  .aplayer.aplayer-fixed {
    position: fixed !important;
    left: 15px !important;
    bottom: 15px !important;
    z-index: 2147483647 !important;
  }
</style>
