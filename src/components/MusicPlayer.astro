---
// src/components/MusicPlayer.astro
// 【更新】
// 切换回 MetingJS API 的方式来加载音乐。
---

<!-- 
  MetingJS 会自动处理 APlayer 的加载和初始化。
  我们使用了你提供的 API 地址和歌单 ID。
-->
<meting-js
  id="3199232581"
  server="netease"
  type="playlist"
  fixed="true"
  mini="true"
  preload="auto"
  order="random"
  volume="0.7"
  api="https://music.ikun.pp.ua/api?server=:server&type=:type&id=:id"
>
</meting-js>

<!-- 
  加载 MetingJS 的脚本文件。
-->
<script is:inline src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

<!--
  添加一些样式来确保播放器位置和层级正确。
-->
<style is:global>
  .aplayer.aplayer-fixed {
    position: fixed !important;
    left: 15px !important;
    bottom: 15px !important;
    z-index: 2147483647 !important;
  }
</style>
